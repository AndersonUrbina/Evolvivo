<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Open iPhone Settings</title>
  <style>
    body { font-family: -apple-system, system-ui, Roboto, sans-serif; padding: 2rem; max-width: 680px; margin: auto; }
    button { font-size: 1.1rem; padding: .8rem 1.2rem; border-radius: 10px; border: none; cursor: pointer; }
    .note { color: #666; margin-top: 1rem; font-size: .9rem; }
  </style>
</head>
<body>
  <h1>Open iPhone Settings (test)</h1>
  <p>Tap the button below to attempt to open the Settings app.</p>

  <button id="openSettings">Open Settings</button>

  <p class="note">If it doesn't open, Safari/OS likely blocked the private URL scheme on your device or your iOS version doesn't support it.</p>

  <script>
    const openBtn = document.getElementById('openSettings');

    // Two common variants used historically
    const urlCandidates = [
      'App-Prefs://prefs:root',       // often works to open Settings.app (undocumented)
      'App-Prefs://',                 // alternative
      'prefs:root'                    // older scheme (may be blocked)
    ];

    openBtn.addEventListener('click', function () {
      // Try candidate URL schemes by setting window.location.
      // Note: browsers may block or ignore unknown schemes.
      (function tryNext(i) {
        if (i >= urlCandidates.length) {
          alert('Could not open Settings. This is expected on some iOS versions / browsers.');
          return;
        }
        const url = urlCandidates[i];

        // Attempt: navigation first (works in many cases)
        window.location = url;

        // As a fallback, open in an iframe (older trick, may be blocked)
        setTimeout(function () {
          const iframe = document.createElement('iframe');
          iframe.style.display = 'none';
          iframe.src = url;
          document.body.appendChild(iframe);

          // Remove iframe after a short delay and try next candidate if nothing happened
          setTimeout(function () {
            document.body.removeChild(iframe);
            tryNext(i + 1);
          }, 700);
        }, 300);
      })(0);
    }, false);
  </script>
</body>
</html>
